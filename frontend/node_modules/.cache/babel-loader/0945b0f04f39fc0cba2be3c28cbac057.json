{"ast":null,"code":"var _jsxFileName = \"/Users/egemetin/Downloads/QuizApp/frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from 'react';\nimport { UserContext } from '../userContext';\nimport { Navigate, Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport { Button, Col, Container, Row } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const userContext = useContext(UserContext);\n\n  async function Login(e) {\n    e.preventDefault();\n    const res = await fetch(\"http://localhost:3001/users/login\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    const data = await res.json();\n\n    if (data._id !== undefined) {\n      userContext.setUserContext(data);\n    } else {\n      setUsername(\"\");\n      setPassword(\"\");\n      setError(\"Invalid username or password\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginLeft: '35%'\n    },\n    children: [userContext.user ? /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 33\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: Login,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        className: \"mb-3\",\n        controlId: \"formPlaintextEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"3\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Username\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Row,\n        className: \"mb-3\",\n        controlId: \"formPlaintextPassword\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          column: true,\n          sm: \"2\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"3\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            value: password,\n            placeholder: \"Password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          marginTop: \"3%\"\n        },\n        sm: {\n          span: 1,\n          offset: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          name: \"submit\",\n          value: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 74\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          marginTop: \"3%\"\n        },\n        sm: {\n          span: 1,\n          offset: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/fb\",\n          children: \"Facebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 74\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"MnRMTZXOJajWcruPIl0XhuRhs5Q=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useContext","useState","UserContext","Navigate","Link","Form","Button","Col","Container","Row","Login","username","setUsername","password","setPassword","error","setError","userContext","e","preventDefault","res","fetch","method","credentials","headers","body","JSON","stringify","data","json","_id","undefined","setUserContext","marginLeft","user","target","value","marginTop","span","offset"],"sources":["/Users/egemetin/Downloads/QuizApp/frontend/src/components/Login.js"],"sourcesContent":["import { useContext, useState } from 'react';\r\nimport { UserContext } from '../userContext';\r\nimport { Navigate, Link } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form'\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\n\r\n\r\nfunction Login() {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const userContext = useContext(UserContext);\r\n\r\n    async function Login(e) {\r\n        e.preventDefault();\r\n        const res = await fetch(\"http://localhost:3001/users/login\", {\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password\r\n            })\r\n        });\r\n        const data = await res.json();\r\n        if (data._id !== undefined) {\r\n            userContext.setUserContext(data);\r\n        } else {\r\n            setUsername(\"\");\r\n            setPassword(\"\");\r\n            setError(\"Invalid username or password\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container style={{ marginLeft: '35%' }}>\r\n            {userContext.user ? <Navigate replace to=\"/\" /> : \"\"}\r\n            <Form onSubmit={Login}>\r\n                <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\r\n                    <Form.Label column sm=\"2\">\r\n                        Username\r\n                    </Form.Label>\r\n                    <Col sm=\"3\">\r\n                        <Form.Control type=\"text\" placeholder=\"Username\" value={username} onChange={(e) => (setUsername(e.target.value))}/>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextPassword\">\r\n                    <Form.Label column sm=\"2\">\r\n                        Password\r\n                    </Form.Label>\r\n                    <Col sm=\"3\">\r\n                        <Form.Control type=\"password\" value={password} placeholder=\"Password\" onChange={(e) => (setPassword(e.target.value))}/>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Col style={{marginTop: \"3%\"}} sm={{span: 1, offset: 2}}><input type=\"submit\" name=\"submit\" value=\"Log in\" /></Col>\r\n                <Col style={{marginTop: \"3%\"}} sm={{span: 1, offset: 2}}><Link to='/fb'>Facebook</Link></Col>\r\n            </Form>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}